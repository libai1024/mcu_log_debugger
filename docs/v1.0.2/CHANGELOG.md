# MCU Log Debugger - v1.0.2 更新日志

## 🐛 Bug 修复

### 1. 串口图标显示问题
- **问题**：串口标签旁边的 "?" 提示图标可能导致布局问题
- **修复**：移除所有 `form-hint` 提示图标
- **影响**：界面更简洁，图标显示完整

## ✨ 功能优化

### 2. 移除推荐提示
- ✅ 移除串口配置中的 "?" 提示图标
- ✅ 移除波特率选项中的 "(推荐)" 文字
- ✅ 移除日志级别的 "?" 提示图标
- **目的**：界面更简洁，减少视觉干扰

### 3. 日志级别筛选改为多选 ⭐
- **旧方式**：下拉框单选（全部/DEBUG及以上/INFO及以上...）
- **新方式**：复选框多选（VERBOSE/DEBUG/INFO/WARN/ERROR）
- **优势**：
  - 更灵活：可以只看 ERROR + WARN
  - 更直观：直接看到选中的级别
  - 更快速：无需打开下拉框
- **样式**：
  - 每个级别有对应的颜色徽章
  - Hover 效果
  - 复选框使用系统原生样式（accent-color）

### 4. 正则搜索功能增强 🔍
- ✅ **全词匹配**：新增 "ab|" 按钮，支持全词匹配
  - 例如搜索 "error" 时，只匹配完整单词，不匹配 "errors"
- ✅ **正则快捷按钮**：启用正则模式时显示常用正则表达式
  - `.*error.*` - 包含 error
  - `^[ERROR]` - ERROR 开头
  - `\d{2}:\d{2}:\d{2}` - 时间格式
  - `0x[0-9A-Fa-f]+` - 十六进制
  - `\b\d+\b` - 纯数字
- ✅ **错误提示**：正则表达式语法错误时显示友好提示
- ✅ **图标优化**：
  - 正则：`.*` 图标
  - 大小写：`Aa` 图标
  - 全词：`ab|` 图标

### 5. 关键字搜索 UI 整理 🎨
- ✅ **布局优化**：
  - 搜索选项和计数器在同一行
  - 上一个/下一个按钮独立一行，更大更易点击
  - 正则快捷按钮折叠显示
- ✅ **按钮样式**：
  - 导航按钮更大（flex: 1）
  - Hover 效果优化
  - 图标和文字对齐
- ✅ **计数器样式**：
  - 背景色区分
  - 等宽字体
  - 最小宽度保证

## 🎨 UI/UX 改进

### 视觉优化
- 简化标签和提示文字
- 统一图标样式
- 优化间距和对齐

### 交互优化
- 级别筛选更直观
- 搜索选项更易用
- 正则表达式更友好

## 🔧 技术改进

### 代码重构
- 移除 `dropdowns.levelFilter` 相关代码
- 更新 `renderLogTable()` 的级别过滤逻辑
- 优化 `performSearch()` 支持全词匹配
- 增强 `highlightSearch()` 支持全词匹配

### 状态管理
- 级别筛选使用 5 个独立复选框状态
- 全词匹配状态持久化

## 📊 改进对比

### 级别筛选

#### v1.0.1
```
下拉框选择：
- 全部级别
- DEBUG 及以上
- INFO 及以上
- WARN 及以上
- 仅 ERROR
```

#### v1.0.2
```
复选框多选：
☑ VERBOSE
☑ DEBUG
☑ INFO
☑ WARN
☑ ERROR
```

### 搜索功能

#### v1.0.1
```
选项：
☐ 正则
☐ 区分大小写
```

#### v1.0.2
```
选项：
☐ .* (正则)
☐ Aa (大小写)
☐ ab| (全词)

正则快捷：
[.*error.*] [^[ERROR]] [HH:MM:SS] [0x...] [\d+]
```

## 🧪 测试要点

### 级别筛选测试
- [ ] 选中单个级别（如只选 ERROR）
- [ ] 选中多个级别（如 ERROR + WARN）
- [ ] 取消所有级别（应显示空）
- [ ] 全选所有级别
- [ ] 右键菜单"按级别过滤"功能正常

### 搜索增强测试
- [ ] 全词匹配：搜索 "error" 不匹配 "errors"
- [ ] 正则快捷按钮：点击后自动填充并搜索
- [ ] 正则错误提示：输入错误正则时显示提示
- [ ] 搜索计数器显示正常
- [ ] 导航按钮大小合适，易于点击

### UI 测试
- [ ] 串口图标显示完整
- [ ] 无多余的 "?" 提示图标
- [ ] 波特率选项无 "(推荐)" 文字
- [ ] 级别复选框对齐整齐
- [ ] 搜索区域布局合理

## 📝 升级说明

### 兼容性
- ✅ 完全向后兼容 v1.0.1
- ✅ 级别筛选默认全选（等同于 v1.0.1 的"全部级别"）
- ✅ 搜索功能保持原有行为（默认不启用全词匹配）

### 迁移步骤
无需特殊迁移步骤，直接使用即可。

---

**版本**：v1.0.2  
**发布日期**：2026-02-11  
**类型**：Bug 修复 + 功能优化  
**优先级**：建议升级
